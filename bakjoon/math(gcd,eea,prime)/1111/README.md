# 문제: 1111(IQ Test)

IQ Test의 문제 중에는 공통된 패턴을 찾는 문제가 있다. 수열이 주어졌을 때, 다음 수를 찾는 문제이다.

예를 들어, 1, 2, 3, 4, 5가 주어졌다. 다음 수는 무엇인가? 당연히 답은 6이다. 약간 더 어려운 문제를 보면, 3, 6, 12, 24, 48이 주어졌을 때, 다음 수는 무엇인가? 역시 답은 96이다.

이제 제일 어려운 문제를 보자.

1, 4, 13, 40이 주어졌을 때, 다음 수는 무엇일까? 답은 121이다. 그 이유는 항상 다음 수는 앞 수*3+1이기 때문이다.

은진이는 위의 3문제를 모두 풀지 못했으므로, 자동으로 풀어주는 프로그램을 작성하기로 했다. 항상 모든 답은 구하는 규칙은 앞 수*a + b이다. 그리고, a와 b는 정수이다.

수 N개가 주어졌을 때, 규칙에 맞는 다음 수를 구하는 프로그램을 작성하시오.

## 입력

첫째 줄에 N이 주어진다. N은 50보다 작거나 같은 자연수이다. 둘째 줄에는 N개의 수가 주어진다. 이 수는 모두 절댓값이 100보다 작거나 같은 정수이다.

## 출력

다음 수를 출력한다. 만약 다음 수가 여러 개일 경우에는 A를 출력하고, 다음 수를 구할 수 없는 경우에는 B를 출력한다.

## 해결방법

수열의 숫자가 3개 주어졌을 때,

숫자 3개를 각각 k0 k1 k2라고 하면

k1 = ak0 + b

k2 = ak1 + b = a^2*k1 + ab + b

k2 - k1 = a((a-1)k0 + b)

k1 - k0 = (a-1)k0 + b

여기서 k2 - k1 / k1 - k0를 하면 a가 나온다.

a가 정수가 아닌 경우에는 B를 출력해야한다. 즉 k2-k1 % k1-k0 이 0이 아니면 B를 출력

이때 k1-k0 = 0 인 경우는 이 공식이 성립하지 않는다.

이 경우에는 특수한데, k2 - k1 != 0 이고 k1 - k0 = 0이라고 가정해보자.(증명)

이때 a,b를 구할 수 있다고 가정하면

k1 = k0 *a + b,  k1 - b = k0 * a 이고,

k2 = k1 *a + b, k2 - b = k1 * a 인데  k2 - k1 = a(k1 - k0) 인데 k1-k0 = 0인데 k2-k1은 0이 아니므로 모순이 된다.

즉 a,b를 구할 수 없다.

그런데 k2-k1 = 0 이고 k1-k0 = 0이되면 a는 무수히 많은 값을 가질 수 있다.

a에 대해 있을 수 있는 b는 반드시 하나 존재하므로 (b = k1-a*k0) 세 값이 같다면 무수히 많은 a,b를 가지면서 다음 수도 반드시 같은 수가 나와야 한다. 그렇지 않으면 구할 수 없는 경우이므로 B를 출력한다.

수열의 숫자가 1개 인경우는 A, 2개인 경우는 위의 특수한 경우를 생각해서 두 숫자가 같으면 3번쨰에도 같은 숫자가 나와야하고, 두 숫자가 다르면 무수히 많으므로 A를 출력하도록 하면 된다.

## 복잡도

o(n)