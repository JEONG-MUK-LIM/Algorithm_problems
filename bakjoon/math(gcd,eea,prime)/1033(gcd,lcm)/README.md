# 문제: 1033(칵테일)

august14는 세상에서 가장 맛있는 칵테일이다. 이 칵테일을 만드는 정확한 방법은 아직 세상에 공개되지 않았지만, 들어가는 재료 N개는 공개되어 있다. 

경근이는 인터넷 검색을 통해서 재료 쌍 N-1개의 비율을 알아냈고, 이 비율을 이용해서 칵테일에 들어가는 전체 재료의 비율을 알아낼 수 있다.

총 재료 쌍 N-1개의 비율이 입력으로 주어진다. 이때, 칵테일을 만드는데 필요한 각 재료의 양을 구하는 프로그램을 작성하시오. 이때, 필요한 재료의 질량을 모두 더한 값이 최소가 되어야 한다. 칵테일을 만드는 재료의 양은 정수이고, 총 질량은 0보다 커야한다.

비율은 "a b p q"와 같은 형식이고, a번 재료의 질량을 b번 재료의 질량으로 나눈 값이 p/q라는 뜻이다.

## 입력

첫째 줄에 august14를 만드는데 필요한 재료의 개수 N이 주어지며, N은 10보다 작거나 같은 자연수이다.

둘째 줄부터 N-1개의 줄에는 재료 쌍의 비율이 한 줄에 하나씩 주어지는데, 문제 설명에 나온 형식인 "a b p q"로 주어진다. 재료는 0번부터 N-1까지이며, a와 b는 모두 N-1보다 작거나 같은 음이 아닌 정수이다. p와 q는 9보다 작거나 같은 자연수이다.


## 출력

첫째 줄에 칵테일을 만드는데 필요한 각 재료의 질량을 0번 재료부터 순서대로 공백으로 구분해 출력한다.

## 해결방법

모든 비율 값들의 최소 공배수를 구하고 그 값에 맞춰서 나머지 재료들의 질량 값을 비율로 구해준다.

값의 초과를 방지하기 위해 비율 값은 6:3 인 경우 2:1이랑 같으므로 최대공약수로 나눠주고 인접리스트로 저장한다.

그리고 모든 비율의 최소공배수를 구할 때는 각 비율의 최대공약수로 나누어서는 안된다. 

비율이 9 9 8 8 이렇게 있으면 81*64 가 최소공배수가 되어야 모든 재료의 질량비율에 따라 값을 정수로 표시 할 수 있기 때문이다.

이때 행렬을 n*n으로 만들면 비어있는 칸도 많고 일일이 for문으로 검사해야하므로 dfs를 사용할 때 시간복잡도가 크게 늘어나게 된다.

그러므로 인접그래프로 만들어서 시작점과 인접한(비율이 주어진) 재료의 질량값을 구한다.

그리고 또 그 재료의 인접한 재료의 질량값을 구하는걸 dfs로 반복하면 모든 질량의 최대공약수로 만든 질량값을 구할 수 있게 된다.

이 결과값을 따로 다른 벡터에 저장하도록 한다.

이때 시작점은 다른 재료들과의 비율을 구하지 않고 맨처음부터 최소 공배수로 할당하므로 실제 결과가 최솟값을 갖지 않을 수 있다.

그러므로 마지막에 모든 재료들의 최대공약수를 구한다음 결과벡터에 나눠준다.



## 복잡도

인접행렬로 입력받은 간선의 개수만큼 탐색하므로 o(n)