# 문제: 1113(수영장 만들기)

지민이는 수영장을 만들려고 한다. 수영장을 만들 곳의 크기는 N*M이고, 각 칸은 직육면체이다. 따라서, 각 칸의 직육면체의 높이가 쓰여 있는 다음과 같은 땅을 생각할 수 있다.
```
16661
61116
16661
```
이 수영장은 15만큼의 물이 들어있는 수영장을 만들 수 있다. 가운데 3개의 칸에 5만큼 물을 채우면 되기 때문이다.

자 이제 가운데 물을 더 추가했다고 생각하면, 벽(높이가 6인 직육면체)을 넘어서 밖으로 나갈 것이다. 물은 항상 높이가 더 낮은 곳으로만 흐르고, 직육면체 위의 표면에는 물이 없다. 그리고, 땅의 높이는 0이고, 땅은 물을 무한대로 흡수 할 수 있다.

땅의 모양이 주어질 때, 수영장에 물이 얼마만큼 있을 수 있는지 구하는 프로그램을 작성하시오.

## 입력

첫째 줄에 N과 M이 주어진다. N과 M은 50보다 작거나 같은 자연수이다. 둘째 줄부터 N개의 줄에 땅의 높이가 주어진다. 높이는 1보다 크거나 같고, 9보다 작거나 같은 자연수이다.

## 출력

첫째 줄에 문제의 정답을 출력한다.

## 해결방법

만약 테두리가 하나라도 안쪽보다 낮은 상황이라면 밖의 땅으로 물이 흘러내릴 것이다.

땅의 높이는 0으로 항상 입력의 범위인 1~9보다 낮기때문이다.

예를 들어 
```
9919
9119
9999
```
는 중간 공간이 밖으로 이어져 물이 모두 흘러내릴 것이다.

그런데

```
99199
91219
91119
99999
```
는 문제가 없다.

즉 테두리에서부터 bfs를 실행해야한다. 그러므로 큐에 테두리부터 넣어준다.

그리고 테두리에서부터 안쪽까지 물을 채워나갈 수 있는지 검사하고 채울 수 있으면 물을 채운다.

다음칸이 더 낮은 칸이라면 물을 채운다

이때 다음칸이 이 높이보다 낮다면 똑같이 높이로 맞춘다

그래야 안쪽 땅이 균일하지 않는 경우에도 똑같이 맞춰 줄 수 있다.
```
999999
944119 <- 9에서 1로 갈 때, 1인 칸을 9로 큐에 넣을 때 행렬을 업데이트하면 4로 가는게 가능
944119
999999 
```
또한 중간이 높은 땅이 있을 수 있으므로 항상 방문은 실행하고, 이미 방문한 땅은 중복으로 체크하지 않는다.

여기서 문제는 
```
99199
91219
91119
99999
```
이 단순히 큐를 활용한 bfs를 사용하면 1인 칸의 높이를 9로 맞추게 될 수도 있다는 것이다.

이때는 가장 높이가 가장 작은 칸부터 검사해야하고(테두리의 1) 그 다음으로 작은 칸을 검사해야 된다.(1에서 bfs로 이어진 2)

그러므로 큐대신 최소힙을 사용하는 bfs를 사용한다.

그리고 높이가 높은 칸에서 낮은 칸으로 이동하는 경우 행렬을 업데이트해서 낮은칸의 높이를 맞춰주고,

높이가 낮은 칸에서 더 높거나 같은 칸으로 이동하는 경우는 행렬을 업데이트하지 않고 최소힙을 채운다. 그래야 테두리의 높이에 안쪽땅을 맞춰줄 수 있다.


## 복잡도
 
모든 칸이 중복하지 않게 최소힙에 들어갈 수 있고, 삽입,삭제하는 경우 log(크기)의 시간을 가지므로  시간복잡도는 o(n*m log nm)

공간복잡도는 o(n*m)