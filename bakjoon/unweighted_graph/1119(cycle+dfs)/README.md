# 문제: 1119(그래프)

N개의 도시가 있고, 몇몇 도시들이 양방향 도로로 연결되어 있는 나라가 있다. 은진이는 이나라의 도로 몇 개를 수정해서 모든 도시가 서로 연결되어 있게 하려고 한다. 이때, 도로를 수정하는 회수를 최소로 하려고 한다. 도로를 수정하는 방법은 다음과 같다.

A와 B가 연결되어 있고, C와 D가 연결되어 있으면서, A와 C, A와 D, B와 C, B와 D가 연결되어 있지 않은 4개의 도시 A, B, C, D를 선택한다.

A와 B를 연결하는 도로와 C와 D를 연결하는 도로를 없앤다.

A와 C, B와 D를 연결하거나 A와 D, B와 C를 연결한다.

N이 주어지고, 각 도로의 정보가 주어진다. 이때, 몇 개의 도로를 수정해야 하는지 구하는 프로그램을 작성하시오.

## 입력

첫째 줄에 N이 주어진다 N은 50보다 작거나 같은 자연수이다. 둘째 줄부터 N개의 줄에 도로의 정보가 주어진다. 인접행렬형식으로 표현되어 있으며 예제를 참고하자. g[i][j] = g[j][i]이고, g[i][i] = N이다.

## 출력

첫째 줄에 문제의 정답을 출력한다. 만약 불가능 할 때는 -1을 출력한다.

## 해결방법

연결 되지 않은 각각의 그래프들을 연결시켜 하나의 연결된 그래프로 만들 수 있는지 체크한다.

두 연결요소를 연결시키기 위해서는 한쪽이라도 사이클이 존재해야한다.

그래야 이미 있는 간선을 재배치했을 때, 두 그래프가 연결이 되기 때문이다.

여기서 사이클의 개수는 여러개 존재할 수 있고, 두 그래프를 연결하는 순간 두 그래프의 사이클의 개수가 더해지면서 연결하는 용으로 하나 감소한다.

그래프내의 사이클 개수는 간선의 수 - 노드의 수 + 1이다

dfs를 실행하면서 간선과 노드의 개수를 측정한다.

이때 간선의 방문상태와 노드의 방문상태를 구분하여 탐색을 실행한다.

또한 양방향그래프이므로 이점에 유의하여 방문상태를 바꿔준다.

## 복잡도

인접그래프로 표현된 그래프이므로 o(n^2)의 공간복잡도를 가진다.

모든 간선과 노드를 한번씩만 방문해야하므로 시간복잡도는 o(n^2)