# 문제: 1062(가르침)

남극에 사는 김지민 선생님은 학생들이 되도록이면 많은 단어를 읽을 수 있도록 하려고 한다. 그러나 지구온난화로 인해 얼음이 녹아서 곧 학교가 무너지기 때문에, 김지민은 K개의 글자를 가르칠 시간 밖에 없다. 김지민이 가르치고 난 후에는, 학생들은 그 K개의 글자로만 이루어진 단어만을 읽을 수 있다. 김지민은 어떤 K개의 글자를 가르쳐야 학생들이 읽을 수 있는 단어의 개수가 최대가 되는지 고민에 빠졌다.

남극언어의 모든 단어는 "anta"로 시작되고, "tica"로 끝난다. 남극언어에 단어는 N개 밖에 없다고 가정한다. 학생들이 읽을 수 있는 단어의 최댓값을 구하는 프로그램을 작성하시오.

## 입력

첫째 줄에 단어의 개수 N과 K가 주어진다. N은 50보다 작거나 같은 자연수이고, K는 26보다 작거나 같은 자연수 또는 0이다. 둘째 줄부터 N개의 줄에 남극 언어의 단어가 주어진다. 단어는 영어 소문자로만 이루어져 있고, 길이가 8보다 크거나 같고, 15보다 작거나 같다. 모든 단어는 중복되지 않는다.

## 출력

첫째 줄에 김지민이 K개의 글자를 가르칠 때, 학생들이 읽을 수 있는 단어 개수의 최댓값을 출력한다.

## 해결방법

백트래킹으로 알파벳을 선택을 다 했을 때, 알고있는 알파벳으로 얼마나 많은 단어를 읽을 수 있는 지 (만들 수 있는지) 수를 세는 문제이다.

그런데 이 문제는 범위가 타이트하게 잡혀있어서 제대로 계산해서 최적화를 하지 않으면 시간초과로 문제를 풀 수 없다.

5개의 알파벳 a,n,t,i,c 는 반드시 알고 있어야 하므로 이를 범위에서 제외하지 않고 백트래킹으로 조합을 탐색하면 최대 26개에서 13를 조합하는 횟수 = 약 1천만

백트래킹 완료 후 , 각 단어들을 알고 있는 알파벳으로 구성할 수 있는지 체크 = n(최대 50) * 26 = 1300번, 총 약 10^10 의 연산이 걸리게 된다.

그런데 여기서 비트마스킹을 활용해서 마지막에 단어별로 필요한 알파벳을 정수로 저장하고,

백트래킹으로 현재 상태를 비트마스킹으로 넘겨준다.

각 단어의 필요 알파벳 mask와 현재알고있는 알파벳의 mask의 and 연산 결과가 필요 알파벳이 나온다면, 그 단어는 구성할 수 있으므로 

마지막연산은 n번만 체크할 수 있다.

그러면 백트래킹부분에서 조합으로 만들 수 있도록 현재 for문의 인덱스를 파라미터로 넘겨줘야하는데,

26개에서 13개를 뽑는 조합은 1천만으로 n을 곱하면(최대 50) 여전히 1억의 연산을 초과한다.

그런데 21개에서 10개를 뽑는 조합은 35만으로, 50을 곱해도 1천만정도의 연산만 하면 된다.

그러니 시작할 때 a,n,t,i,c를 제외한 알파벳만을 고려할 수 있도록 벡터를 하나 만들어둔다.

## 복잡도

최대 연산수는 21C10 * 50 ( = 약 1천만)

